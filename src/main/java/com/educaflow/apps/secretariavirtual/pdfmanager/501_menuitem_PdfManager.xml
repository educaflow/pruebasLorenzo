<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_7.4.xsd">

    <menuitem name="PdfManager-menuitem"  title="Ver PDF" action="mant-PdfManager-action" groups="admins,users" icon="picture_as_pdf" order="100"/>


    <action-view name="mant-PdfManager-action"  title="GestiÃ³n de PDFs__!!" model="com.educaflow.apps.secretariavirtual.db.PdfManager"  >
        <view type="grid" name="mant-PdfManager-grid"/>
        <view type="form" name="mant-PdfManager-form"/>
    </action-view>


    <grid name="mant-PdfManager-grid" title="Gestionar PDF" model="com.educaflow.apps.secretariavirtual.db.PdfManager"
          groups="admins"
          editable="false" edit-icon="false" x-selector="none" canNew="true" canEdit="false" canDelete="false" canSave="false" canViewOnClick="true">
        <field name="pdf" />
    </grid>

    <form name="mant-PdfManager-form" title="Gestionar PDF" model="com.educaflow.apps.secretariavirtual.db.PdfManager" width="large">
        <panel name="ver-pdf-panel" colSpan="12"   >
            <field name="pdf"  colSpan="12" onChange="mant-PdfManager-pdf-OnChange" widget="binary-link" />

            <field name="new" showTitle="false" readonly="true" colSpan="9">
                <viewer depends="pdf" ><![CDATA[
                    <>
                    <Box as="iframe" height="900" border="0" src={`ws/rest/com.educaflow.common.domains.db.MetaFilePdf/${pdf.id}/content/download?inline=true&name=${pdf.fileName}`} ></Box>
                    </>
                    ]]></viewer>
            </field>

            <field name="descripcion"  colSpan="12"  height="900px"  widget="code-editor" readonly="true" />



        </panel>


    </form>

    <action-record name="mant-PdfManager-pdf-OnChange" model="com.educaflow.apps.secretariavirtual.db.PdfManager">
        <field name="descripcion" expr="eval:pdf.getDocumentoPdf().toString() " />
    </action-record>













</object-views>