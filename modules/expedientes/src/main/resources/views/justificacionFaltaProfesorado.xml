<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns="http://axelor.com/xml/ns/object-views"
              xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.1.xsd">

    <form name="exp-JustificacionFaltaProfesorado-form" title="Justificación Falta Profesorado" model="com.educaflow.apps.expedientes.db.JustificacionFaltaProfesorado" groups="admins,users">
        <panel name="datos-profesor" title="Datos del Profesor">
            <field name="apellidos" colSpan="6" readonly="true"/>
            <field name="nombre" colSpan="6" readonly="true"/>
            <field name="dni" colSpan="2" readonly="true"/>
        </panel>
        <panel name="datos-falta" title="Datos de la Falta">
            <field name="dias" colSpan="2"/>
            <field name="mes" colSpan="12"  widget="SwitchSelect"/>
            <field name="anyo" colSpan="2"/>
            <field name="tipoJornadaFalta" colSpan="6" colOffset="9" widget="SwitchSelect"/>
            <field name="horaInicio" colSpan="3" showIf="tipoJornadaFalta == 'JORNADA_PARCIAL'"/>
            <field name="horaFin" colSpan="3" showIf="tipoJornadaFalta == 'JORNADA_PARCIAL'"/>
            <field name="motivoFalta" colSpan="5" widget="SwitchSelect" x-direction="vertical"/>
            <field name="otroMotivo" colSpan="7"  showIf="motivoFalta == 'OTROS'"/>
        </panel>
        <panel name="datos-falta-view" title="Datos de la Falta">
            <field name="dias" colSpan="3" readonly="true"/>
            <field name="mes" colSpan="3"  readonly="true"/>
            <field name="anyo" colSpan="3" readonly="true"/>
            <field name="tipoJornadaFalta" colSpan="4" colOffset="3"  readonly="true"/>
            <field name="horaInicio" colSpan="4" showIf="tipoJornadaFalta == 'JORNADA_PARCIAL'" readonly="true"/>
            <field name="horaFin" colSpan="4" showIf="tipoJornadaFalta == 'JORNADA_PARCIAL'" readonly="true"/>
            <field name="motivoFalta" colSpan="5"   readonly="true"/>
            <field name="otroMotivo" colSpan="7"  showIf="motivoFalta == 'OTROS'" readonly="true"/>
        </panel>


        <panel name="justificante-upload" title="Adjuntar justificante">
            <field name="justificante" title="Foto o PDF del justificante" widget="binary-link" colSpan="4" />
        </panel>
        <panel name="justificante-view" title="Adjuntar justificante">
            <field name="justificante" title="Foto o PDF del justificante" widget="binary-link" colSpan="4" readonly="true"/>
        </panel>
        <panel name="justificante-firmar-creador" title="Justificantes">
            <button name="Firmar" title="Firmar digitalmente el documento" onClick="" colSpan="12"/>

            <field name="new" showTitle="false" readonly="true" colSpan="12">
                <viewer depends="documentoCompletoSinFirmar" ><![CDATA[
                    <>
                    <Box as="iframe" height="400" border="0" src={`ws/rest/com.axelor.meta.db.MetaFile/${documentoCompletoSinFirmar.id}/content/download?inline=true&name=${documentoCompletoSinFirmar.fileName}`} ></Box>
                    </>
                    ]]></viewer>
            </field>
        </panel>
        <panel name="justificante-firmar-director" title="Justificantes">
            <button name="Firmar" title="Firmar digitalmente el documento" onClick="" colSpan="12"/>

            <field name="new" showTitle="false" readonly="true"  colSpan="12">
                <viewer depends="documentoCompletoFirmadoUsuario" ><![CDATA[
                    <>
                    <Box as="iframe" height="400" border="0" src={`ws/rest/com.axelor.meta.db.MetaFile/${documentoCompletoFirmadoUsuario.id}/content/download?inline=true&name=${documentoCompletoFirmadoUsuario.fileName}`} ></Box>
                    </>
                    ]]></viewer>
            </field>
        </panel>
        <panel name="justificante-view-documentoCompletoFirmadoUsuario" title="Justificantes">
            <field name="documentoCompletoFirmadoUsuario" title="Documento firmado por el usuario" widget="binary-link" colSpan="12" readonly="true" />
        </panel>
        <panel name="justificante-view-documentoCompletoFirmadoUsuarioDirector" title="Justificantes">
            <field name="documentoCompletoFirmadoUsuarioDirector" title="Documento firmado por el usuario y el director" widget="binary-link" colSpan="12" readonly="true"/>
        </panel>

        <panel name="resolucion" title="Resolución">
            <field name="disconformidad" colSpan="12"/>
            <field name="resolucion" colSpan="12"/>
        </panel>
    </form>

    <!-- ENTRADA_DATOS -->
    <form name="exp-JustificacionFaltaProfesorado-CREADOR-ENTRADA_DATOS-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml">
            <extend target="panel[@name='events']">
                <insert position="inside-before">
                    <button name="PRESENTAR" title="Guardar" onClick="action-event-expediente"/>
                    <button name="BORRAR" css="btn-danger" outline="true" title="Borrar" onClick="action-event-expediente" prompt="¿Está seguro que desea borrar el expediente?"/>
                </insert>
            </extend>
        </include>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta']" />
        <include target="panel[@name='justificante-upload']"/>

    </form>
    <form name="exp-JustificacionFaltaProfesorado-RESPONSABLE-ENTRADA_DATOS-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta']" readonly="true"/>
        <include target="panel[@name='justificante-view']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-AUDITOR-ENTRADA_DATOS-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view']" readonly="true"/>
    </form>

    <!-- FIRMA_POR_USUARIO -->
    <form name="exp-JustificacionFaltaProfesorado-CREADOR-FIRMA_POR_USUARIO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml">
            <extend target="panel[@name='events']">
                <insert position="inside-before">
                    <button name="PRESENTAR_DOCUMENTOS_FIRMADOS" title="Guardar" onClick="action-event-expediente"/>
                    <button name="BORRAR" css="btn-danger" outline="true" title="Borrar" onClick="action-event-expediente" prompt="¿Está seguro que desea borrar el expediente?"/>
                </insert>
            </extend>
        </include>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-firmar-creador']"/>

    </form>
    <form name="exp-JustificacionFaltaProfesorado-RESPONSABLE-FIRMA_POR_USUARIO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-AUDITOR-FIRMA_POR_USUARIO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view']" readonly="true"/>
    </form>





    <!-- -REVISION_Y_FIRMA_POR_RESPONSABLE- -->
    <form name="exp-JustificacionFaltaProfesorado-CREADOR-REVISION_Y_FIRMA_POR_RESPONSABLE-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuario']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-RESPONSABLE-REVISION_Y_FIRMA_POR_RESPONSABLE-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml">
            <extend target="panel[@name='events']">
                <insert position="inside-before">
                    <button name="ACEPTAR" title="Aceptar" onClick="action-event-expediente"/>
                    <button name="RECHAZAR" title="Rechazar" css="btn-danger" outline="true" onClick="action-event-expediente" prompt="¿Está seguro que desea rechazarlo?"/>
                    <button name="SUBSANAR" title="Subsanar información" outline="true" onClick="action-event-expediente"/>
                </insert>
            </extend>
        </include>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-firmar-director']" />
        <include target="panel[@name='resolucion']"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-AUDITOR-REVISION_Y_FIRMA_POR_RESPONSABLE-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuario']" readonly="true"/>
    </form>

    <!-- ACEPTADO -->
    <form name="exp-JustificacionFaltaProfesorado-CREADOR-ACEPTADO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuarioDirector']" readonly="true"/>
        <include target="panel[@name='resolucion']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-RESPONSABLE-ACEPTADO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml">
            <extend target="panel[@name='events']">
                <insert position="inside-before">
                    <button name="SUBSANAR" title="Reabrir" css="btn-primary" outline="true" onClick="action-event-expediente"/>
                </insert>
            </extend>
        </include>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuarioDirector']" readonly="true"/>
        <include target="panel[@name='resolucion']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-AUDITOR-ACEPTADO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuarioDirector']" readonly="true"/>
        <include target="panel[@name='resolucion']" readonly="true"/>
    </form>

    <!-- RECHAZADO -->
    <form name="exp-JustificacionFaltaProfesorado-CREADOR-RECHAZADO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuario']" readonly="true"/>
        <include target="panel[@name='resolucion']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-RESPONSABLE-RECHAZADO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml" />
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuario']" readonly="true"/>
        <include target="panel[@name='resolucion']" readonly="true"/>
    </form>
    <form name="exp-JustificacionFaltaProfesorado-AUDITOR-RECHAZADO-form" include="exp-JustificacionFaltaProfesorado-form">
        <include target="panel[@name='head']" sourceFileName="../view-templates/template.xml"/>
        <include target="panel[@name='datos-profesor']" readonly="true"/>
        <include target="panel[@name='datos-falta-view']" readonly="true"/>
        <include target="panel[@name='justificante-view-documentoCompletoFirmadoUsuario']" readonly="true"/>
        <include target="panel[@name='resolucion']" readonly="true"/>
    </form>
</object-views>