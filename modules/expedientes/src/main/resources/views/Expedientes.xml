<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_7.2.xsd">



  <menuitem name="menu-expedientes" title="Expedientes" groups="admins,users"/>
  <menuitem name="menu-item-nuevo-expediente" parent="menu-expedientes" title="Nuevo Expediente" action="action-nuevo-expediente" groups="admins,users"/>
  <menuitem name="menu-item-ver-expedientes" parent="menu-expedientes" title="Ver Expediente" action="action-ver-expedientes" groups="admins,users"/>



  <action-method name="action-event-expediente">
    <call class="com.educaflow.apps.expedientes.controller.ExpedienteController" method="triggerEvent"/>
  </action-method>
  <action-method name="action-event-new-expediente">
    <call class="com.educaflow.apps.expedientes.controller.ExpedienteController" method="triggerInitialEvent"/>
  </action-method>
  <action-method name="action-event-view-expediente">
    <call class="com.educaflow.apps.expedientes.controller.ExpedienteController" method="viewExpediente"/>
  </action-method>
  <action-method name="action-event-borrar-expediente">
    <call class="com.educaflow.apps.expedientes.controller.ExpedienteController" method="borrarExpediente"/>
  </action-method>


  <action-view name="action-ver-expedientes" title="Nuevo expediente" model="com.educaflow.apps.expedientes.db.Expediente">
    <view type="grid" name="grid-ver-expedientes"/>
  </action-view>
  <action-view name="action-nuevo-expediente" title="Nuevo expediente" model="com.educaflow.apps.expedientes.db.TipoExpediente" >
    <view type="grid" name="grid-tipo-expediente"  />
  </action-view>
  <action-view name="action-grid-expediente-historial-estados" title="Mostrar historial estados" model="com.educaflow.apps.expedientes.db.ExpedienteHistorialEstados">
    <view type="grid" name="grid-expediente-historial-estados"/>
    <view-param name="popup" value="true"/>
    <view-param name="show-toolbar" value="false"/>
    <view-param name="popup-save" value="false"/>
    <domain>self.expediente.id=:idExpediente</domain>
    <context name="idExpediente" expr="eval: id"/>
  </action-view>








  <grid name="grid-tipo-expediente" title="tipos de expediente" model="com.educaflow.apps.expedientes.db.TipoExpediente" groups="admins,users"
        editable="false" edit-icon="false" x-selector="none" canNew="false"  canEdit="false"  canDelete="false" canSave="false"
        action="action-event-new-expediente" actionSignal="aaaa"
  >
    <field name="name" />
    <field name="versionExpediente" />
  </grid>

  <grid name="grid-ver-expedientes" title="Expedientes" model="com.educaflow.apps.expedientes.db.Expediente"
        groups="admins,users"
        editable="false" edit-icon="false" x-selector="none" canNew="false" canEdit="false" canDelete="false"
        canSave="false"
        action="action-event-view-expediente" actionSignal="aaaa"
  >
    <field name="numeroExpediente"/>
    <field name="tipoExpediente.name"/>
    <field name="createdBy.name"/>
    <field name="nameState"/>
    <field name="fechaUltimoEstado"/>
  </grid>

  <grid name="grid-expediente-historial-estados" title="Historial Estados" model="com.educaflow.apps.expedientes.db.ExpedienteHistorialEstados"
        groups="admins,users"
        editable="false" edit-icon="false" x-selector="none" canNew="false" canEdit="false" canDelete="false"
        canSave="false" orderBy="fecha"
  >
    <field name="nameEvent"/>
    <field name="nameState"/>
    <field name="createdBy.name"/>
    <field name="fecha"/>
  </grid>

</object-views>
